---
title: "ãƒ†ã‚¹ãƒˆã®ç¨®é¡åŠã³GitHub Actionsã‚’ä½¿ã£ãŸCI/CD"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [cicd, githubactions, test]
published: true
publication_name: "ka_projects"
published_at: 2025-03-12 09:00
---

## **1. ãƒ†ã‚¹ãƒˆã®ç²’åº¦ã¨åˆ†é¡**

ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆã¯ **ç²’åº¦ï¼ˆãƒ†ã‚¹ãƒˆã®å¯¾è±¡ç¯„å›²ï¼‰** ã«å¿œã˜ã¦ **5 ã¤** ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚  
å„ç²’åº¦ã«é–¢é€£ã™ã‚‹å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã¨ãƒ„ãƒ¼ãƒ«ã‚’ä»¥ä¸‹ã«æ•´ç†ã—ã¾ã™ã€‚

| ãƒ†ã‚¹ãƒˆã®ç¨®é¡                       | ç›®çš„                                             | ã‚¹ã‚³ãƒ¼ãƒ—               | é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆ             | ä»£è¡¨çš„ãªãƒ„ãƒ¼ãƒ«                  |
| ---------------------------------- | ------------------------------------------------ | ---------------------- | -------------------------- | ------------------------------- |
| **å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆUnit Testï¼‰**        | å€‹ã€…ã®é–¢æ•°ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œã‚’æ¤œè¨¼           | é–¢æ•°ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ã‚¯ãƒ©ã‚¹ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ             | Jest, JUnit, PyTest, RSpec      |
| **çµåˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testï¼‰** | è¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ API ã®é€£æºã‚’æ¤œè¨¼              | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»API é–“     | çµ±åˆãƒ†ã‚¹ãƒˆ                 | JUnit, TestNG, Mocha, Supertest |
| **æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆFunctional Testï¼‰**  | ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å®šã®æ©Ÿèƒ½ãŒä»•æ§˜é€šã‚Šã«å‹•ä½œã™ã‚‹ã‹ã‚’æ¤œè¨¼ | ç‰¹å®šã®æ©Ÿèƒ½å˜ä½         | API ãƒ†ã‚¹ãƒˆ, UI ãƒ†ã‚¹ãƒˆ      | Postman, Playwright, Cypress    |
| **ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆï¼ˆSystem Testï¼‰**  | ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒæœŸå¾…é€šã‚Šå‹•ä½œã™ã‚‹ã‹ã‚’æ¤œè¨¼           | ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“           | E2E ãƒ†ã‚¹ãƒˆ, è² è·ãƒ†ã‚¹ãƒˆ     | Playwright, Selenium, JMeter    |
| **ãƒ¦ãƒ¼ã‚¶ã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆï¼ˆUATï¼‰**      | å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã®æ¤œè¨¼                         | ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹     | å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ, A/B ãƒ†ã‚¹ãƒˆ | æ‰‹å‹•ãƒ†ã‚¹ãƒˆ, Google Optimize     |

âœ… **ãƒã‚¤ãƒ³ãƒˆ**

- **å˜ä½“ãƒ†ã‚¹ãƒˆ â†’ çµåˆãƒ†ã‚¹ãƒˆ â†’ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ â†’ ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ â†’ UAT** ã®é †ã§ãƒ†ã‚¹ãƒˆç¯„å›²ãŒåºƒãŒã‚‹ã€‚
- **GitHub Actions ã‚’åˆ©ç”¨ã™ã‚‹ã®ã¯ä¸»ã« 1ã€œ4ï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµåˆãƒ†ã‚¹ãƒˆãƒ»æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆï¼‰**ã€‚

---

## **2. GitHub Actions ã‚’åˆ©ç”¨ã—ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã® CI/CD**

GitHub Actions ã§ã¯ `.github/workflows/` ã« CI/CD ç”¨ã® `.yml` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã€  
ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´æ™‚ã« **è‡ªå‹•ã§ãƒ†ã‚¹ãƒˆ & ãƒ“ãƒ«ãƒ‰** ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

### **Vercel ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å ´åˆ**

| æ–¹æ³•                                  | ä»•çµ„ã¿                                                                   | ä½¿ã†ã¹ãã‚±ãƒ¼ã‚¹                             |
| ------------------------------------- | ------------------------------------------------------------------------ | ------------------------------------------ |
| **Vercel ã® Git é€£æº**                | Vercel ã®ç®¡ç†ç”»é¢ã§ GitHub ã‚’æ¥ç¶šã—ã€`main` ã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ | ã‚·ãƒ³ãƒ—ãƒ«ãªé‹ç”¨ã§å•é¡Œãªã„å ´åˆ               |
| **GitHub Actions ã® `vercel-action`** | `main` ã«ãƒãƒ¼ã‚¸ã•ã‚ŒãŸå¾Œãªã©ã€ç‰¹å®šã®æ¡ä»¶ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿè¡Œ                  | ãƒ‡ãƒ—ãƒ­ã‚¤ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç´°ã‹ãåˆ¶å¾¡ã—ãŸã„å ´åˆ |

âœ… **Vercel ã® Git é€£æºãŒæœ‰åŠ¹ãªã‚‰ `vercel-action` ã¯ä¸è¦ï¼**  
âœ… **`vercel-action` ã‚’ä½¿ã†ãªã‚‰ Vercel ã® Git é€£æºã‚’ã‚ªãƒ•ã«ã™ã‚‹ï¼**

---

## **3. ã‚³ãƒ¼ãƒ‰ä¾‹**

ä»¥ä¸‹ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã® CI/CD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã—ãŸ **GitHub Actions ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«** ã®ä¾‹ã§ã™ã€‚

```yaml
name: CI # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®åå‰

on:
  push:
    branches: [main] # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«å®Ÿè¡Œ
  pull_request:
    branches: [main] # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒ«ãƒªã‚¯ä½œæˆæ™‚ã«ã‚‚å®Ÿè¡Œ

jobs:
  build-and-test:
    runs-on: ubuntu-latest # å®Ÿè¡Œç’°å¢ƒã‚’Ubuntuã«è¨­å®š

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3 # ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

      - name: Setup Node.js
        uses: actions/setup-node@v3 # Node.jsã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        with:
          node-version: "20" # ä½¿ç”¨ã™ã‚‹Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
          cache: "npm" # npmã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹åŒ–ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®ï¼‰

      - name: Install dependencies
        run: npm ci # ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ`npm install` ã‚ˆã‚Šé«˜é€Ÿï¼‰

      - name: Run Linter
        run: npm run lint # ESLintã‚’å®Ÿè¡Œï¼ˆã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒã‚§ãƒƒã‚¯ï¼‰

      - name: Type Check
        run: npm run type-check # TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ

      - name: Run Unit Tests
        run: npm test # Jestãªã©ã§å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

      - name: Run End-to-End Tests
        run: npm run test:e2e # Playwright/Cypressã‚’ç”¨ã„ãŸE2Eãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

      - name: Build
        run: npm run build # Next.jsã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã€ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
```

---

## **4. ãŠã¾ã‘ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆ**

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã¯ **åˆ¥ã® CI ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹:`backend-ci.yml`ï¼‰** ã‚’ä½œæˆã—ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ä¸¦è¡Œã—ã¦å®Ÿè¡Œ** ã§ãã¾ã™ã€‚

```yaml
name: Backend CI # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test-and-build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3 # ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "20"
          cache: "npm"

      - name: Install dependencies
        run: npm ci
        working-directory: backend # `backend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§å®Ÿè¡Œ

      - name: Run Linter
        run: npm run lint
        working-directory: backend

      - name: Run Unit Tests
        run: npm test
        working-directory: backend

      - name: Build Backend
        run: npm run build
        working-directory: backend
```

&nbsp;
&nbsp;
&nbsp;
&nbsp;
ä»¥ä¸Šã§ã™ã€‚
